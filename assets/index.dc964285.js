var Ce=Object.defineProperty;var Ne=(a,r,t)=>r in a?Ce(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;var ae=(a,r,t)=>(Ne(a,typeof r!="symbol"?r+"":r,t),t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();function $(){}function qe(a){return a&&typeof a=="object"&&typeof a.then=="function"}function He(a){return a()}function Te(){return Object.create(null)}function ee(a){a.forEach(He)}function Fe(a){return typeof a=="function"}function B(a,r){return a!=a?r==r:a!==r||a&&typeof a=="object"||typeof a=="function"}let ie;function J(a,r){return ie||(ie=document.createElement("a")),ie.href=r,a===ie.href}function Re(a){return Object.keys(a).length===0}function Be(a,...r){if(a==null)return $;const t=a.subscribe(...r);return t.unsubscribe?()=>t.unsubscribe():t}function Xe(a){let r;return Be(a,t=>r=t)(),r}function ce(a,r,t){a.$$.on_destroy.push(Be(r,t))}function w(a,r){a.appendChild(r)}function F(a,r,t){a.insertBefore(r,t||null)}function H(a){a.parentNode.removeChild(a)}function je(a,r){for(let t=0;t<a.length;t+=1)a[t]&&a[t].d(r)}function T(a){return document.createElement(a)}function q(a){return document.createTextNode(a)}function V(){return q(" ")}function We(){return q("")}function W(a,r,t,o){return a.addEventListener(r,t,o),()=>a.removeEventListener(r,t,o)}function b(a,r,t){t==null?a.removeAttribute(r):a.getAttribute(r)!==t&&a.setAttribute(r,t)}function Ye(a){return Array.from(a.childNodes)}function ge(a,r){r=""+r,a.wholeText!==r&&(a.data=r)}function $e(a,r,t,o){t===null?a.style.removeProperty(r):a.style.setProperty(r,t,o?"important":"")}let oe;function X(a){oe=a}function Ee(){if(!oe)throw new Error("Function called outside component initialization");return oe}function Qe(a){Ee().$$.on_destroy.push(a)}const re=[],j=[],le=[],pe=[],Ze=Promise.resolve();let me=!1;function Ke(){me||(me=!0,Ze.then(ve))}function he(a){le.push(a)}function U(a){pe.push(a)}const _e=new Set;let se=0;function ve(){const a=oe;do{for(;se<re.length;){const r=re[se];se++,X(r),Je(r.$$)}for(X(null),re.length=0,se=0;j.length;)j.pop()();for(let r=0;r<le.length;r+=1){const t=le[r];_e.has(t)||(_e.add(t),t())}le.length=0}while(re.length);for(;pe.length;)pe.pop()();me=!1,_e.clear(),X(a)}function Je(a){if(a.fragment!==null){a.update(),ee(a.before_update);const r=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,r),a.after_update.forEach(he)}}const ue=new Set;let Y;function ye(){Y={r:0,c:[],p:Y}}function be(){Y.r||ee(Y.c),Y=Y.p}function x(a,r){a&&a.i&&(ue.delete(a),a.i(r))}function I(a,r,t,o){if(a&&a.o){if(ue.has(a))return;ue.add(a),Y.c.push(()=>{ue.delete(a),o&&(t&&a.d(1),o())}),a.o(r)}else o&&o()}function xe(a,r){const t=r.token={};function o(i,l,c,h){if(r.token!==t)return;r.resolved=h;let f=r.ctx;c!==void 0&&(f=f.slice(),f[c]=h);const p=i&&(r.current=i)(f);let v=!1;r.block&&(r.blocks?r.blocks.forEach((e,n)=>{n!==l&&e&&(ye(),I(e,1,1,()=>{r.blocks[n]===e&&(r.blocks[n]=null)}),be())}):r.block.d(1),p.c(),x(p,1),p.m(r.mount(),r.anchor),v=!0),r.block=p,r.blocks&&(r.blocks[l]=p),v&&ve()}if(qe(a)){const i=Ee();if(a.then(l=>{X(i),o(r.then,1,r.value,l),X(null)},l=>{if(X(i),o(r.catch,2,r.error,l),X(null),!r.hasCatch)throw l}),r.current!==r.pending)return o(r.pending,0),!0}else{if(r.current!==r.then)return o(r.then,1,r.value,a),!0;r.resolved=a}}function Ue(a,r,t){const o=r.slice(),{resolved:i}=a;a.current===a.then&&(o[a.value]=i),a.current===a.catch&&(o[a.error]=i),a.block.p(o,t)}function z(a,r,t){const o=a.$$.props[r];o!==void 0&&(a.$$.bound[o]=t,t(a.$$.ctx[o]))}function L(a){a&&a.c()}function M(a,r,t,o){const{fragment:i,after_update:l}=a.$$;i&&i.m(r,t),o||he(()=>{const c=a.$$.on_mount.map(He).filter(Fe);a.$$.on_destroy?a.$$.on_destroy.push(...c):ee(c),a.$$.on_mount=[]}),l.forEach(he)}function O(a,r){const t=a.$$;t.fragment!==null&&(ee(t.on_destroy),t.fragment&&t.fragment.d(r),t.on_destroy=t.fragment=null,t.ctx=[])}function ze(a,r){a.$$.dirty[0]===-1&&(re.push(a),Ke(),a.$$.dirty.fill(0)),a.$$.dirty[r/31|0]|=1<<r%31}function G(a,r,t,o,i,l,c,h=[-1]){const f=oe;X(a);const p=a.$$={fragment:null,ctx:[],props:l,update:$,not_equal:i,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:Te(),dirty:h,skip_bound:!1,root:r.target||f.$$.root};c&&c(p.root);let v=!1;if(p.ctx=t?t(a,r.props||{},(e,n,...s)=>{const u=s.length?s[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=u)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](u),v&&ze(a,e)),n}):[],p.update(),v=!0,ee(p.before_update),p.fragment=o?o(p.ctx):!1,r.target){if(r.hydrate){const e=Ye(r.target);p.fragment&&p.fragment.l(e),e.forEach(H)}else p.fragment&&p.fragment.c();r.intro&&x(a.$$.fragment),M(a,r.target,r.anchor,r.customElement),ve()}X(f)}class C{$destroy(){O(this,1),this.$destroy=$}$on(r,t){if(!Fe(t))return $;const o=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return o.push(t),()=>{const i=o.indexOf(t);i!==-1&&o.splice(i,1)}}$set(r){this.$$set&&!Re(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}const Z=[];function we(a,r=$){let t;const o=new Set;function i(h){if(B(a,h)&&(a=h,t)){const f=!Z.length;for(const p of o)p[1](),Z.push(p,a);if(f){for(let p=0;p<Z.length;p+=2)Z[p][0](Z[p+1]);Z.length=0}}}function l(h){i(h(a))}function c(h,f=$){const p=[h,f];return o.add(p),o.size===1&&(t=r(i)||$),h(a),()=>{o.delete(p),o.size===0&&(t(),t=null)}}return{set:i,update:l,subscribe:c}}const et={name:"sea_of_thieves",songs:{bosun_bill:{name:"bosun_bill",artist:{name:"",link:""},tracks:[{name:"banjo",type:"lead"},{name:"banjo",type:"backing"},{name:"concertina",type:"lead"},{name:"concertina",type:"backing"},{name:"drum",type:"lead"},{name:"drum",type:"backing"},{name:"hurdy_gurdy",type:"lead"},{name:"hurdy_gurdy",type:"backing"}]}}},tt={name:"outer_wilds",songs:{travelers:{name:"travelers",artist:{name:"Andrew Prahlow",link:"http://www.andrewprahlow.com/"},tracks:[{name:"drums",type:"solo"},{name:"whistling",type:"solo"},{name:"banjo",type:"solo"},{name:"harmonica",type:"solo"},{name:"flute",type:"solo"},{name:"piano",type:"solo"},{name:"stranger",type:"solo"}]}}},nt={sea_of_thieves:et,outer_wilds:tt},De=we(!1),Ae=we(rt("sea_of_thieves","bosun_bill"));function rt(a,r){const t=nt[a].songs[r];return{source:a,song:t.name,artist:t.artist,tracks:t.tracks}}function ot(a){let r,t,o;return{c(){r=T("div"),r.innerHTML='<p class="text-5xl md:text-9xl m-auto cursor-pointer">Click To Start</p>',b(r,"class","flex h-screen w-full")},m(i,l){F(i,r,l),t||(o=W(r,"click",a[0]),t=!0)},p:$,i:$,o:$,d(i){i&&H(r),t=!1,o()}}}function at(a){return[()=>De.set(!0)]}class it extends C{constructor(r){super(),G(this,r,at,ot,B,{})}}const st=a=>{const r=new FileReader;return r.readAsDataURL(a),new Promise((t,o)=>{r.addEventListener("loadend",()=>t(r.result)),r.addEventListener("error",()=>o("Unable to read sound files!"))})},Se=async a=>new Promise(r=>setTimeout(r,a)),fe=async(a,r)=>await Promise.all(a.map(async t=>r(t)));function lt(a){let r,t;return{c(){r=T("img"),b(r,"alt",a[0]),J(r.src,t=`img/icons/${a[0]}.png`)||b(r,"src",t),b(r,"class","control-button cursor-pointer h-9")},m(o,i){F(o,r,i)},p(o,[i]){i&1&&b(r,"alt",o[0]),i&1&&!J(r.src,t=`img/icons/${o[0]}.png`)&&b(r,"src",t)},i:$,o:$,d(o){o&&H(r)}}}function ut(a,r,t){let{iconName:o}=r;return a.$$set=i=>{"iconName"in i&&t(0,o=i.iconName)},[o]}class de extends C{constructor(r){super(),G(this,r,ut,lt,B,{iconName:0})}}function ct(a){let r,t,o,i,l;return t=new de({props:{iconName:a[0]?"unmute":"mute"}}),{c(){r=T("div"),L(t.$$.fragment)},m(c,h){F(c,r,h),M(t,r,null),o=!0,i||(l=W(r,"click",a[1]),i=!0)},p(c,[h]){const f={};h&1&&(f.iconName=c[0]?"unmute":"mute"),t.$set(f)},i(c){o||(x(t.$$.fragment,c),o=!0)},o(c){I(t.$$.fragment,c),o=!1},d(c){c&&H(r),O(t),i=!1,l()}}}function ft(a,r,t){let{tracks:o}=r,i=!1,l;const c=async()=>{i||(i=!0,await fe(o,async h=>await h.toggle({muting:!l})),i=!1,t(2,o))};return a.$$set=h=>{"tracks"in h&&t(2,o=h.tracks)},a.$$.update=()=>{a.$$.dirty&4&&t(0,l=o.every(h=>h.muted))},[l,c,o]}class dt extends C{constructor(r){super(),G(this,r,ft,ct,B,{tracks:2})}}function _t(a){let r,t,o,i,l;return t=new de({props:{iconName:a[0].every(Ie)?"pause":"play"}}),{c(){r=T("div"),L(t.$$.fragment)},m(c,h){F(c,r,h),M(t,r,null),o=!0,i||(l=W(r,"click",a[1]),i=!0)},p(c,[h]){const f={};h&1&&(f.iconName=c[0].every(Ie)?"pause":"play"),t.$set(f)},i(c){o||(x(t.$$.fragment,c),o=!0)},o(c){I(t.$$.fragment,c),o=!1},d(c){c&&H(r),O(t),i=!1,l()}}}const Ie=a=>a.playing;function pt(a,r,t){let{tracks:o}=r;const i=()=>{fe(o,l=>l.togglePlaying()),t(0,o)};return a.$$set=l=>{"tracks"in l&&t(0,o=l.tracks)},[o,i]}class mt extends C{constructor(r){super(),G(this,r,pt,_t,B,{tracks:0})}}function ht(a){let r,t,o,i,l;return t=new de({props:{iconName:"shuffle"}}),{c(){r=T("div"),L(t.$$.fragment)},m(c,h){F(c,r,h),M(t,r,null),o=!0,i||(l=W(r,"click",a[0]),i=!0)},p:$,i(c){o||(x(t.$$.fragment,c),o=!0)},o(c){I(t.$$.fragment,c),o=!1},d(c){c&&H(r),O(t),i=!1,l()}}}function gt(a,r,t){let{tracks:o}=r;const i=()=>fe(o,l=>l.toggle({random:!0}));return a.$$set=l=>{"tracks"in l&&t(1,o=l.tracks)},[i,o]}class vt extends C{constructor(r){super(),G(this,r,gt,ht,B,{tracks:1})}}function yt(a){let r,t,o,i,l;return t=new de({props:{iconName:"switch"}}),{c(){r=T("div"),L(t.$$.fragment)},m(c,h){F(c,r,h),M(t,r,null),o=!0,i||(l=W(r,"click",a[0]),i=!0)},p:$,i(c){o||(x(t.$$.fragment,c),o=!0)},o(c){I(t.$$.fragment,c),o=!1},d(c){c&&H(r),O(t),i=!1,l()}}}function bt(a,r,t){let{tracks:o}=r;const i=()=>fe(o,l=>l.toggle());return a.$$set=l=>{"tracks"in l&&t(1,o=l.tracks)},[i,o]}class wt extends C{constructor(r){super(),G(this,r,bt,yt,B,{tracks:1})}}function At(a){let r,t,o,i,l,c,h,f,p,v,e,n,s;function u(A){a[1](A)}let _={};a[0]!==void 0&&(_.tracks=a[0]),t=new mt({props:_}),j.push(()=>z(t,"tracks",u));function m(A){a[2](A)}let d={};a[0]!==void 0&&(d.tracks=a[0]),l=new vt({props:d}),j.push(()=>z(l,"tracks",m));function g(A){a[3](A)}let y={};a[0]!==void 0&&(y.tracks=a[0]),f=new wt({props:y}),j.push(()=>z(f,"tracks",g));function S(A){a[4](A)}let E={};return a[0]!==void 0&&(E.tracks=a[0]),e=new dt({props:E}),j.push(()=>z(e,"tracks",S)),{c(){r=T("div"),L(t.$$.fragment),i=V(),L(l.$$.fragment),h=V(),L(f.$$.fragment),v=V(),L(e.$$.fragment),b(r,"class","mx-auto my-2 flex w-5/6 md:w-1/2 justify-evenly")},m(A,D){F(A,r,D),M(t,r,null),w(r,i),M(l,r,null),w(r,h),M(f,r,null),w(r,v),M(e,r,null),s=!0},p(A,[D]){const N={};!o&&D&1&&(o=!0,N.tracks=A[0],U(()=>o=!1)),t.$set(N);const k={};!c&&D&1&&(c=!0,k.tracks=A[0],U(()=>c=!1)),l.$set(k);const P={};!p&&D&1&&(p=!0,P.tracks=A[0],U(()=>p=!1)),f.$set(P);const R={};!n&&D&1&&(n=!0,R.tracks=A[0],U(()=>n=!1)),e.$set(R)},i(A){s||(x(t.$$.fragment,A),x(l.$$.fragment,A),x(f.$$.fragment,A),x(e.$$.fragment,A),s=!0)},o(A){I(t.$$.fragment,A),I(l.$$.fragment,A),I(f.$$.fragment,A),I(e.$$.fragment,A),s=!1},d(A){A&&H(r),O(t),O(l),O(f),O(e)}}}function kt(a,r,t){let{tracks:o}=r;function i(f){o=f,t(0,o)}function l(f){o=f,t(0,o)}function c(f){o=f,t(0,o)}function h(f){o=f,t(0,o)}return a.$$set=f=>{"tracks"in f&&t(0,o=f.tracks)},[o,i,l,c,h]}class Tt extends C{constructor(r){super(),G(this,r,kt,At,B,{tracks:0})}}function $t(a){let r,t,o,i,l,c;return{c(){r=T("div"),t=T("img"),i=V(),l=T("img"),J(t.src,o=`img/outline/${a[2].source}/${a[0]}.png`)||b(t,"src",o),b(t,"alt",a[0]),b(t,"class","w-60 h-60 cursor-pointer absolute"),J(l.src,c=`img/solid/${a[2].source}/${a[0]}.png`)||b(l,"src",c),b(l,"alt",a[0]),b(l,"class","w-60 h-60 cursor-pointer absolute"),$e(l,"opacity",a[1]*2),b(r,"class","flex flex-col h-full relative justify-end")},m(h,f){F(h,r,f),w(r,t),w(r,i),w(r,l)},p(h,[f]){f&5&&!J(t.src,o=`img/outline/${h[2].source}/${h[0]}.png`)&&b(t,"src",o),f&1&&b(t,"alt",h[0]),f&5&&!J(l.src,c=`img/solid/${h[2].source}/${h[0]}.png`)&&b(l,"src",c),f&1&&b(l,"alt",h[0]),f&2&&$e(l,"opacity",h[1]*2)},i:$,o:$,d(h){h&&H(r)}}}function xt(a,r,t){let o;ce(a,Ae,c=>t(2,o=c));let{name:i}=r,{volume:l}=r;return a.$$set=c=>{"name"in c&&t(0,i=c.name),"volume"in c&&t(1,l=c.volume)},[i,l,o]}class St extends C{constructor(r){super(),G(this,r,xt,$t,B,{name:0,volume:1})}}function Pe(a){let r,t=a[0].type+"",o;return{c(){r=T("span"),o=q(t),b(r,"class","mx-auto mb-2")},m(i,l){F(i,r,l),w(r,o)},p(i,l){l&1&&t!==(t=i[0].type+"")&&ge(o,t)},d(i){i&&H(r)}}}function It(a){let r,t,o,i,l,c,h,f,p,v,e=Math.round(a[1]*100)+"",n,s,u,_,m,d=a[0].type!=="solo"&&Pe(a);return l=new St({props:{name:a[0].name,volume:a[1]}}),{c(){r=T("div"),t=T("div"),d&&d.c(),o=V(),i=T("div"),L(l.$$.fragment),c=V(),h=T("div"),f=T("input"),p=V(),v=T("span"),n=q(e),s=q("%"),b(i,"class","relative top-0 left-0 h-60 w-60"),b(f,"class","mx-auto w-11/12 appearance-none h-[5px] rounded-md m-auto bg-white range-slider cursor-pointer"),b(f,"type","range"),b(f,"min","0"),b(f,"max","1"),b(f,"step","0.01"),f.value=a[1],b(v,"class","pl-3 w-10"),b(h,"class","flex flex-row w-full"),b(t,"class","m-auto flex flex-col"),b(r,"class","flex h-full w-full justify-start")},m(g,y){F(g,r,y),w(r,t),d&&d.m(t,null),w(t,o),w(t,i),M(l,i,null),w(t,c),w(t,h),w(h,f),w(h,p),w(h,v),w(v,n),w(v,s),u=!0,_||(m=[W(i,"click",a[3]),W(i,"keypress",a[3]),W(f,"input",a[2])],_=!0)},p(g,[y]){g[0].type!=="solo"?d?d.p(g,y):(d=Pe(g),d.c(),d.m(t,o)):d&&(d.d(1),d=null);const S={};y&1&&(S.name=g[0].name),y&2&&(S.volume=g[1]),l.$set(S),(!u||y&2)&&(f.value=g[1]),(!u||y&2)&&e!==(e=Math.round(g[1]*100)+"")&&ge(n,e)},i(g){u||(x(l.$$.fragment,g),u=!0)},o(g){I(l.$$.fragment,g),u=!1},d(g){g&&H(r),d&&d.d(),O(l),_=!1,ee(m)}}}function Pt(a,r,t){let{track:o}=r;o.togglePlaying();let i;const l=o.volumeStore.subscribe(f=>t(1,i=f));Qe(()=>{l&&l()});const c=f=>{const p=f.target;t(0,o.volume=parseFloat(p.value),o),t(0,o)},h=async()=>{await o.toggle(),t(0,o)};return a.$$set=f=>{"track"in f&&t(0,o=f.track)},[o,i,c,h]}class Mt extends C{constructor(r){super(),G(this,r,Pt,It,B,{track:0})}}function Me(a,r,t){const o=a.slice();return o[3]=r[t],o[4]=r,o[5]=t,o}function Oe(a){let r,t,o,i,l;function c(f){a[2](f,a[3],a[4],a[5])}let h={};return a[3]!==void 0&&(h.track=a[3]),t=new Mt({props:h}),j.push(()=>z(t,"track",c)),{c(){r=T("div"),L(t.$$.fragment),i=V(),b(r,"class","inline-block justify-self-center p-10")},m(f,p){F(f,r,p),M(t,r,null),w(r,i),l=!0},p(f,p){a=f;const v={};!o&&p&1&&(o=!0,v.track=a[3],U(()=>o=!1)),t.$set(v)},i(f){l||(x(t.$$.fragment,f),l=!0)},o(f){I(t.$$.fragment,f),l=!1},d(f){f&&H(r),O(t)}}}function Ot(a){let r,t,o,i,l,c;function h(n){a[1](n)}let f={};a[0]!==void 0&&(f.tracks=a[0]),t=new Tt({props:f}),j.push(()=>z(t,"tracks",h));let p=a[0],v=[];for(let n=0;n<p.length;n+=1)v[n]=Oe(Me(a,p,n));const e=n=>I(v[n],1,1,()=>{v[n]=null});return{c(){r=T("div"),L(t.$$.fragment),i=V(),l=T("div");for(let n=0;n<v.length;n+=1)v[n].c();b(l,"class","flex-wrap flex justify-center flex-grow"),b(r,"class","p-10 h-full w-full flex flex-col")},m(n,s){F(n,r,s),M(t,r,null),w(r,i),w(r,l);for(let u=0;u<v.length;u+=1)v[u].m(l,null);c=!0},p(n,[s]){const u={};if(!o&&s&1&&(o=!0,u.tracks=n[0],U(()=>o=!1)),t.$set(u),s&1){p=n[0];let _;for(_=0;_<p.length;_+=1){const m=Me(n,p,_);v[_]?(v[_].p(m,s),x(v[_],1)):(v[_]=Oe(m),v[_].c(),x(v[_],1),v[_].m(l,null))}for(ye(),_=p.length;_<v.length;_+=1)e(_);be()}},i(n){if(!c){x(t.$$.fragment,n);for(let s=0;s<p.length;s+=1)x(v[s]);c=!0}},o(n){I(t.$$.fragment,n),v=v.filter(Boolean);for(let s=0;s<v.length;s+=1)I(v[s]);c=!1},d(n){n&&H(r),O(t),je(v,n)}}}function Lt(a,r,t){let{tracks:o}=r;function i(c){o=c,t(0,o)}function l(c,h,f,p){f[p]=c,t(0,o)}return a.$$set=c=>{"tracks"in c&&t(0,o=c.tracks)},[o,i,l]}class Ht extends C{constructor(r){super(),G(this,r,Lt,Ot,B,{tracks:0})}}var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(a){(function(){var r=function(){this.init()};r.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||v(),typeof e<"u"&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var s=0;s<n._howls.length;s++)if(!n._howls[s]._webAudio)for(var u=n._howls[s]._getSoundIds(),_=0;_<u.length;_++){var m=n._howls[s]._soundById(u[_]);m&&m._node&&(m._node.volume=m._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||v(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var s=0;s<n._howls.length;s++)if(!n._howls[s]._webAudio)for(var u=n._howls[s]._getSoundIds(),_=0;_<u.length;_++){var m=n._howls[s]._soundById(u[_]);m&&m._node&&(m._node.muted=e?!0:m._muted)}return n},stop:function(){for(var e=this||t,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,v()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var n=new Audio;typeof n.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var s=n.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",_=u.match(/OPR\/([0-6].)/g),m=_&&parseInt(_[0].split("/")[1],10)<33,d=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,g=u.match(/Version\/(.*?) /),y=d&&g&&parseInt(g[1],10)<15;return e._codecs={mp3:!!(!m&&(s||n.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!s,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(s){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var _=0;_<e._howls.length;_++)if(!e._howls[_]._webAudio)for(var m=e._howls[_]._getSoundIds(),d=0;d<m.length;d++){var g=e._howls[_]._soundById(m[d]);g&&g._node&&!g._node._unlocked&&(g._node._unlocked=!0,g._node.load())}e._autoResume();var y=e.ctx.createBufferSource();y.buffer=e._scratchBuffer,y.connect(e.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),y.onended=function(){y.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var S=0;S<e._howls.length;S++)e._howls[S]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var s=0;s<e._howls[n]._sounds.length;s++)if(!e._howls[n]._sounds[s]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(!!e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new r,o=function(e){var n=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}n.init(e)};o.prototype={init:function(e){var n=this;return t.ctx||v(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var s=0;s<e._src.length;s++){var u,_;if(e._format&&e._format[s])u=e._format[s];else{if(_=e._src[s],typeof _!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(_),u||(u=/\.([^.]+)$/.exec(_.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){n=e._src[s];break}}if(!n){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&c(e),e},play:function(e,n){var s=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&s._state==="loaded"&&!s._sprite[e])return null;if(typeof e>"u"&&(e="__default",!s._playLock)){for(var _=0,m=0;m<s._sounds.length;m++)s._sounds[m]._paused&&!s._sounds[m]._ended&&(_++,u=s._sounds[m]._id);_===1?e=null:u=null}}var d=u?s._soundById(u):s._inactiveSound();if(!d)return null;if(u&&!e&&(e=d._sprite||"__default"),s._state!=="loaded"){d._sprite=e,d._ended=!1;var g=d._id;return s._queue.push({event:"play",action:function(){s.play(g)}}),g}if(u&&!d._paused)return n||s._loadQueue("play"),d._id;s._webAudio&&t._autoResume();var y=Math.max(0,d._seek>0?d._seek:s._sprite[e][0]/1e3),S=Math.max(0,(s._sprite[e][0]+s._sprite[e][1])/1e3-y),E=S*1e3/Math.abs(d._rate),A=s._sprite[e][0]/1e3,D=(s._sprite[e][0]+s._sprite[e][1])/1e3;d._sprite=e,d._ended=!1;var N=function(){d._paused=!1,d._seek=y,d._start=A,d._stop=D,d._loop=!!(d._loop||s._sprite[e][2])};if(y>=D){s._ended(d);return}var k=d._node;if(s._webAudio){var P=function(){s._playLock=!1,N(),s._refreshBuffer(d);var Q=d._muted||s._muted?0:d._volume;k.gain.setValueAtTime(Q,t.ctx.currentTime),d._playStart=t.ctx.currentTime,typeof k.bufferSource.start>"u"?d._loop?k.bufferSource.noteGrainOn(0,y,86400):k.bufferSource.noteGrainOn(0,y,S):d._loop?k.bufferSource.start(0,y,86400):k.bufferSource.start(0,y,S),E!==1/0&&(s._endTimers[d._id]=setTimeout(s._ended.bind(s,d),E)),n||setTimeout(function(){s._emit("play",d._id),s._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?P():(s._playLock=!0,s.once("resume",P),s._clearTimer(d._id))}else{var R=function(){k.currentTime=y,k.muted=d._muted||s._muted||t._muted||k.muted,k.volume=d._volume*t.volume(),k.playbackRate=d._rate;try{var Q=k.play();if(Q&&typeof Promise<"u"&&(Q instanceof Promise||typeof Q.then=="function")?(s._playLock=!0,N(),Q.then(function(){s._playLock=!1,k._unlocked=!0,n?s._loadQueue():s._emit("play",d._id)}).catch(function(){s._playLock=!1,s._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),d._ended=!0,d._paused=!0})):n||(s._playLock=!1,N(),s._emit("play",d._id)),k.playbackRate=d._rate,k.paused){s._emit("playerror",d._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||d._loop?s._endTimers[d._id]=setTimeout(s._ended.bind(s,d),E):(s._endTimers[d._id]=function(){s._ended(d),k.removeEventListener("ended",s._endTimers[d._id],!1)},k.addEventListener("ended",s._endTimers[d._id],!1))}catch(Ge){s._emit("playerror",d._id,Ge)}};k.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(k.src=s._src,k.load());var te=window&&window.ejecta||!k.readyState&&t._navigator.isCocoonJS;if(k.readyState>=3||te)R();else{s._playLock=!0,s._state="loading";var ke=function(){s._state="loaded",R(),k.removeEventListener(t._canPlayEvent,ke,!1)};k.addEventListener(t._canPlayEvent,ke,!1),s._clearTimer(d._id)}}return d._id},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var s=n._getSoundIds(e),u=0;u<s.length;u++){n._clearTimer(s[u]);var _=n._soundById(s[u]);if(_&&!_._paused&&(_._seek=n.seek(s[u]),_._rateSeek=0,_._paused=!0,n._stopFade(s[u]),_._node))if(n._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),n._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||n._emit("pause",_?_._id:null)}return n},stop:function(e,n){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"stop",action:function(){s.stop(e)}}),s;for(var u=s._getSoundIds(e),_=0;_<u.length;_++){s._clearTimer(u[_]);var m=s._soundById(u[_]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,s._stopFade(u[_]),m._node&&(s._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),s._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&s._clearSound(m._node))),n||s._emit("stop",m._id))}return s},mute:function(e,n){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"mute",action:function(){s.mute(e,n)}}),s;if(typeof n>"u")if(typeof e=="boolean")s._muted=e;else return s._muted;for(var u=s._getSoundIds(n),_=0;_<u.length;_++){var m=s._soundById(u[_]);m&&(m._muted=e,m._interval&&s._stopFade(m._id),s._webAudio&&m._node?m._node.gain.setValueAtTime(e?0:m._volume,t.ctx.currentTime):m._node&&(m._node.muted=t._muted?!0:e),s._emit("mute",m._id))}return s},volume:function(){var e=this,n=arguments,s,u;if(n.length===0)return e._volume;if(n.length===1||n.length===2&&typeof n[1]>"u"){var _=e._getSoundIds(),m=_.indexOf(n[0]);m>=0?u=parseInt(n[0],10):s=parseFloat(n[0])}else n.length>=2&&(s=parseFloat(n[0]),u=parseInt(n[1],10));var d;if(typeof s<"u"&&s>=0&&s<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,n)}}),e;typeof u>"u"&&(e._volume=s),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)d=e._soundById(u[g]),d&&(d._volume=s,n[2]||e._stopFade(u[g]),e._webAudio&&d._node&&!d._muted?d._node.gain.setValueAtTime(s,t.ctx.currentTime):d._node&&!d._muted&&(d._node.volume=s*t.volume()),e._emit("volume",d._id))}else return d=u?e._soundById(u):e._sounds[0],d?d._volume:0;return e},fade:function(e,n,s,u){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(e,n,s,u)}}),_;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),s=parseFloat(s),_.volume(e,u);for(var m=_._getSoundIds(u),d=0;d<m.length;d++){var g=_._soundById(m[d]);if(g){if(u||_._stopFade(m[d]),_._webAudio&&!g._muted){var y=t.ctx.currentTime,S=y+s/1e3;g._volume=e,g._node.gain.setValueAtTime(e,y),g._node.gain.linearRampToValueAtTime(n,S)}_._startFadeInterval(g,e,n,s,m[d],typeof u>"u")}}return _},_startFadeInterval:function(e,n,s,u,_,m){var d=this,g=n,y=s-n,S=Math.abs(y/.01),E=Math.max(4,S>0?u/S:u),A=Date.now();e._fadeTo=s,e._interval=setInterval(function(){var D=(Date.now()-A)/u;A=Date.now(),g+=y*D,g=Math.round(g*100)/100,y<0?g=Math.max(s,g):g=Math.min(s,g),d._webAudio?e._volume=g:d.volume(g,e._id,!0),m&&(d._volume=g),(s<n&&g<=s||s>n&&g>=s)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,d.volume(s,e._id),d._emit("fade",e._id))},E)},_stopFade:function(e){var n=this,s=n._soundById(e);return s&&s._interval&&(n._webAudio&&s._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(s._interval),s._interval=null,n.volume(s._fadeTo,e),s._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e=this,n=arguments,s,u,_;if(n.length===0)return e._loop;if(n.length===1)if(typeof n[0]=="boolean")s=n[0],e._loop=s;else return _=e._soundById(parseInt(n[0],10)),_?_._loop:!1;else n.length===2&&(s=n[0],u=parseInt(n[1],10));for(var m=e._getSoundIds(u),d=0;d<m.length;d++)_=e._soundById(m[d]),_&&(_._loop=s,e._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=s,s&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,e.playing(m[d])&&(e.pause(m[d],!0),e.play(m[d],!0)))));return e},rate:function(){var e=this,n=arguments,s,u;if(n.length===0)u=e._sounds[0]._id;else if(n.length===1){var _=e._getSoundIds(),m=_.indexOf(n[0]);m>=0?u=parseInt(n[0],10):s=parseFloat(n[0])}else n.length===2&&(s=parseFloat(n[0]),u=parseInt(n[1],10));var d;if(typeof s=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,n)}}),e;typeof u>"u"&&(e._rate=s),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)if(d=e._soundById(u[g]),d){e.playing(u[g])&&(d._rateSeek=e.seek(u[g]),d._playStart=e._webAudio?t.ctx.currentTime:d._playStart),d._rate=s,e._webAudio&&d._node&&d._node.bufferSource?d._node.bufferSource.playbackRate.setValueAtTime(s,t.ctx.currentTime):d._node&&(d._node.playbackRate=s);var y=e.seek(u[g]),S=(e._sprite[d._sprite][0]+e._sprite[d._sprite][1])/1e3-y,E=S*1e3/Math.abs(d._rate);(e._endTimers[u[g]]||!d._paused)&&(e._clearTimer(u[g]),e._endTimers[u[g]]=setTimeout(e._ended.bind(e,d),E)),e._emit("rate",d._id)}}else return d=e._soundById(u),d?d._rate:e._rate;return e},seek:function(){var e=this,n=arguments,s,u;if(n.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(n.length===1){var _=e._getSoundIds(),m=_.indexOf(n[0]);m>=0?u=parseInt(n[0],10):e._sounds.length&&(u=e._sounds[0]._id,s=parseFloat(n[0]))}else n.length===2&&(s=parseFloat(n[0]),u=parseInt(n[1],10));if(typeof u>"u")return 0;if(typeof s=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,n)}}),e;var d=e._soundById(u);if(d)if(typeof s=="number"&&s>=0){var g=e.playing(u);g&&e.pause(u,!0),d._seek=s,d._ended=!1,e._clearTimer(u),!e._webAudio&&d._node&&!isNaN(d._node.duration)&&(d._node.currentTime=s);var y=function(){g&&e.play(u,!0),e._emit("seek",u)};if(g&&!e._webAudio){var S=function(){e._playLock?setTimeout(S,0):y()};setTimeout(S,0)}else y()}else if(e._webAudio){var E=e.playing(u)?t.ctx.currentTime-d._playStart:0,A=d._rateSeek?d._rateSeek-d._seek:0;return d._seek+(A+E*Math.abs(d._rate))}else return d._node.currentTime;return e},playing:function(e){var n=this;if(typeof e=="number"){var s=n._soundById(e);return s?!s._paused:!1}for(var u=0;u<n._sounds.length;u++)if(!n._sounds[u]._paused)return!0;return!1},duration:function(e){var n=this,s=n._duration,u=n._soundById(e);return u&&(s=n._sprite[u._sprite][1]/1e3),s},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,s=0;s<n.length;s++)n[s]._paused||e.stop(n[s]._id),e._webAudio||(e._clearSound(n[s]._node),n[s]._node.removeEventListener("error",n[s]._errorFn,!1),n[s]._node.removeEventListener(t._canPlayEvent,n[s]._loadFn,!1),n[s]._node.removeEventListener("ended",n[s]._endFn,!1),t._releaseHtml5Audio(n[s]._node)),delete n[s]._node,e._clearTimer(n[s]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1);var _=!0;for(s=0;s<t._howls.length;s++)if(t._howls[s]._src===e._src||e._src.indexOf(t._howls[s]._src)>=0){_=!1;break}return l&&_&&delete l[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,s,u){var _=this,m=_["_on"+e];return typeof n=="function"&&m.push(u?{id:s,fn:n,once:u}:{id:s,fn:n}),_},off:function(e,n,s){var u=this,_=u["_on"+e],m=0;if(typeof n=="number"&&(s=n,n=null),n||s)for(m=0;m<_.length;m++){var d=s===_[m].id;if(n===_[m].fn&&d||!n&&d){_.splice(m,1);break}}else if(e)u["_on"+e]=[];else{var g=Object.keys(u);for(m=0;m<g.length;m++)g[m].indexOf("_on")===0&&Array.isArray(u[g[m]])&&(u[g[m]]=[])}return u},once:function(e,n,s){var u=this;return u.on(e,n,s,1),u},_emit:function(e,n,s){for(var u=this,_=u["_on"+e],m=_.length-1;m>=0;m--)(!_[m].id||_[m].id===n||e==="load")&&(setTimeout(function(d){d.call(this,n,s)}.bind(u,_[m].fn),0),_[m].once&&u.off(e,_[m].fn,_[m].id));return u._loadQueue(e),u},_loadQueue:function(e){var n=this;if(n._queue.length>0){var s=n._queue[0];s.event===e&&(n._queue.shift(),n._loadQueue()),e||s.action()}return n},_ended:function(e){var n=this,s=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var u=!!(e._loop||n._sprite[s][2]);if(n._emit("end",e._id),!n._webAudio&&u&&n.stop(e._id,!0).play(e._id),n._webAudio&&u){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var _=(e._stop-e._start)*1e3/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),_)}return n._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),!n._webAudio&&!u&&n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var s=n._soundById(e);s&&s._node&&s._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,s=0;s<n._sounds.length;s++)if(e===n._sounds[s]._id)return n._sounds[s];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new i(e)},_drain:function(){var e=this,n=e._pool,s=0,u=0;if(!(e._sounds.length<n)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&s++;for(u=e._sounds.length-1;u>=0;u--){if(s<=n)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),s--)}}},_getSoundIds:function(e){var n=this;if(typeof e>"u"){for(var s=[],u=0;u<n._sounds.length;u++)s.push(n._sounds[u]._id);return s}else return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=l[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),n},_cleanBuffer:function(e){var n=this,s=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),s))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,n},_clearSound:function(e){var n=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);n||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,s=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(s,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=s*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(e._node.duration*10)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(e._node.duration*10)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=n._duration*1e3),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},c=function(e){var n=e._src;if(l[n]){e._duration=l[n].duration,p(e);return}if(/^data:[^;]+;base64,/.test(n)){for(var s=atob(n.split(",")[1]),u=new Uint8Array(s.length),_=0;_<s.length;++_)u[_]=s.charCodeAt(_);f(u.buffer,e)}else{var m=new XMLHttpRequest;m.open(e._xhr.method,n,!0),m.withCredentials=e._xhr.withCredentials,m.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(d){m.setRequestHeader(d,e._xhr.headers[d])}),m.onload=function(){var d=(m.status+"")[0];if(d!=="0"&&d!=="2"&&d!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}f(m.response,e)},m.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[n],e.load())},h(m)}},h=function(e){try{e.send()}catch{e.onerror()}},f=function(e,n){var s=function(){n._emit("loaderror",null,"Decoding audio data failed.")},u=function(_){_&&n._sounds.length>0?(l[n._src]=_,p(n,_)):s()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(u).catch(s):t.ctx.decodeAudioData(e,u,s)},p=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},v=function(){if(!!t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),s=n?parseInt(n[1],10):null;if(e&&s&&s<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};a.Howler=t,a.Howl=o,typeof ne<"u"?(ne.HowlerGlobal=r,ne.Howler=t,ne.Howl=o,ne.Sound=i):typeof window<"u"&&(window.HowlerGlobal=r,window.Howler=t,window.Howl=o,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var i=o._howls.length-1;i>=0;i--)o._howls[i].stereo(t);return o},HowlerGlobal.prototype.pos=function(t,o,i){var l=this;if(!l.ctx||!l.ctx.listener)return l;if(o=typeof o!="number"?l._pos[1]:o,i=typeof i!="number"?l._pos[2]:i,typeof t=="number")l._pos=[t,o,i],typeof l.ctx.listener.positionX<"u"?(l.ctx.listener.positionX.setTargetAtTime(l._pos[0],Howler.ctx.currentTime,.1),l.ctx.listener.positionY.setTargetAtTime(l._pos[1],Howler.ctx.currentTime,.1),l.ctx.listener.positionZ.setTargetAtTime(l._pos[2],Howler.ctx.currentTime,.1)):l.ctx.listener.setPosition(l._pos[0],l._pos[1],l._pos[2]);else return l._pos;return l},HowlerGlobal.prototype.orientation=function(t,o,i,l,c,h){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(o=typeof o!="number"?p[1]:o,i=typeof i!="number"?p[2]:i,l=typeof l!="number"?p[3]:l,c=typeof c!="number"?p[4]:c,h=typeof h!="number"?p[5]:h,typeof t=="number")f._orientation=[t,o,i,l,c,h],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(l,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(t,o,i,l,c,h);else return p;return f},Howl.prototype.init=function(t){return function(o){var i=this;return i._orientation=o.orientation||[1,0,0],i._stereo=o.stereo||null,i._pos=o.pos||null,i._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},i._onstereo=o.onstereo?[{fn:o.onstereo}]:[],i._onpos=o.onpos?[{fn:o.onpos}]:[],i._onorientation=o.onorientation?[{fn:o.onorientation}]:[],t.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,o){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(t,o)}}),i;var l=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof t=="number")i._stereo=t,i._pos=[t,0,0];else return i._stereo;for(var c=i._getSoundIds(o),h=0;h<c.length;h++){var f=i._soundById(c[h]);if(f)if(typeof t=="number")f._stereo=t,f._pos=[t,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&r(f,l),l==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(t,0,0):f._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",f._id);else return f._stereo}return i},Howl.prototype.pos=function(t,o,i,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(t,o,i,l)}}),c;if(o=typeof o!="number"?0:o,i=typeof i!="number"?-.5:i,typeof l>"u")if(typeof t=="number")c._pos=[t,o,i];else return c._pos;for(var h=c._getSoundIds(l),f=0;f<h.length;f++){var p=c._soundById(h[f]);if(p)if(typeof t=="number")p._pos=[t,o,i],p._node&&((!p._panner||p._panner.pan)&&r(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):p._panner.setPosition(t,o,i)),c._emit("pos",p._id);else return p._pos}return c},Howl.prototype.orientation=function(t,o,i,l){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(t,o,i,l)}}),c;if(o=typeof o!="number"?c._orientation[1]:o,i=typeof i!="number"?c._orientation[2]:i,typeof l>"u")if(typeof t=="number")c._orientation=[t,o,i];else return c._orientation;for(var h=c._getSoundIds(l),f=0;f<h.length;f++){var p=c._soundById(h[f]);if(p)if(typeof t=="number")p._orientation=[t,o,i],p._node&&(p._panner||(p._pos||(p._pos=c._pos||[0,0,-.5]),r(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):p._panner.setOrientation(t,o,i)),c._emit("orientation",p._id);else return p._orientation}return c},Howl.prototype.pannerAttr=function(){var t=this,o=arguments,i,l,c;if(!t._webAudio)return t;if(o.length===0)return t._pannerAttr;if(o.length===1)if(typeof o[0]=="object")i=o[0],typeof l>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),t._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:t._panningModel});else return c=t._soundById(parseInt(o[0],10)),c?c._pannerAttr:t._pannerAttr;else o.length===2&&(i=o[0],l=parseInt(o[1],10));for(var h=t._getSoundIds(l),f=0;f<h.length;f++)if(c=t._soundById(h[f]),c){var p=c._pannerAttr;p={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:p.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:p.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:p.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:p.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:p.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:p.panningModel};var v=c._panner;v?(v.coneInnerAngle=p.coneInnerAngle,v.coneOuterAngle=p.coneOuterAngle,v.coneOuterGain=p.coneOuterGain,v.distanceModel=p.distanceModel,v.maxDistance=p.maxDistance,v.refDistance=p.refDistance,v.rolloffFactor=p.rolloffFactor,v.panningModel=p.panningModel):(c._pos||(c._pos=t._pos||[0,0,-.5]),r(c,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var o=this,i=o._parent;o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,t.call(this),o._stereo?i.stereo(o._stereo):o._pos&&i.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var o=this,i=o._parent;return o._orientation=i._orientation,o._stereo=i._stereo,o._pos=i._pos,o._pannerAttr=i._pannerAttr,o._stereo?i.stereo(o._stereo):o._pos?i.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,i._refreshBuffer(o)),t.call(this)}}(Sound.prototype.reset);var r=function(t,o){o=o||"spatial",o==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Ve);class Ft{constructor(r,t,o,i,l){ae(this,"howl");ae(this,"_volume");ae(this,"previousVolume");this.name=r,this.type=t,this.playing=i,this.muted=l,this.name=r,this.type=t,this.howl=new Ve.Howl({src:o,loop:!0}),this.playing=i,this.muted=l,this._volume=we(0),this.volume=Math.round(Math.random())/2}set volume(r){this.howl.volume(r),this._volume.set(r),this.muted=r===0}get volumeStore(){return this._volume}togglePlaying(){this.playing?this.howl.pause():this.howl.play(),this.playing=!this.playing}async interpolateVolume(r,t){const o=t>r;let i=r;if(o)for(;i<t;)i+=.01,this.volume=i,await Se(5);else for(;i>t;)i-=.01,this.volume=i,await Se(5);this.volume=t}async toggle(r){const t=Xe(this.volumeStore),o=this.decideEndVolume(t,r);this.previousVolume=t,await this.interpolateVolume(t,o)}decideEndVolume(r,t){var o,i,l;return(o=t==null?void 0:t.muting)==null||o?(i=t==null?void 0:t.muting)!=null&&i?0:t!=null&&t.random?Math.random()>.6?0:Math.random():r>0?0:this.previousVolume===0?.5:(l=this.previousVolume)!=null?l:.5:this.previousVolume}}class Bt{constructor(r,t,o){this.name=r,this.type=t,this.file=o,this.name=r,this.type=t,this.file=o}}async function Le({source:a,song:r,tracks:t}){return(await Promise.all(t.map(async({name:i,type:l})=>new Bt(i,l,await fetch(`https://static.brace.dev/mixer/${a}/${r}/${[i,l,"flac"].join(".")}`).then(c=>c.blob()).then(st))))).map(({name:i,file:l,type:c})=>new Ft(i,c,l,!1,!1))}function Et(a){let r;return{c(){r=T("div"),r.innerHTML=`<p class="text-3xl md:text-9xl m-auto flex flex-col max-w-[80%]"><span class="text-center">Loading Tracks</span> 
    <span class="text-base md:text-lg block m-auto mt-7 text-center">This may take a short while on your first visit or after you have cleared
      your cache.</span> 
    <span class="loader"></span></p>`,b(r,"class","flex h-screen w-full")},m(t,o){F(t,r,o)},p:$,i:$,o:$,d(t){t&&H(r)}}}class Dt extends C{constructor(r){super(),G(this,r,null,Et,B,{})}}function Vt(a){let r,t;return{c(){r=T("a"),t=q(a[0]),b(r,"href",a[1]),b(r,"class","underline decoration-transparent hover:decoration-white transition-[text-decoration] h-fit z-50")},m(o,i){F(o,r,i),w(r,t)},p(o,[i]){i&1&&ge(t,o[0]),i&2&&b(r,"href",o[1])},i:$,o:$,d(o){o&&H(r)}}}function Gt(a,r,t){let{display:o}=r,{url:i}=r;return a.$$set=l=>{"display"in l&&t(0,o=l.display),"url"in l&&t(1,i=l.url)},[o,i]}class K extends C{constructor(r){super(),G(this,r,Gt,Vt,B,{display:0,url:1})}}function Ct(a){let r,t,o,i,l,c,h,f,p,v,e,n,s,u,_,m,d,g,y,S,E=new Date().getFullYear()+"",A,D,N,k;return l=new K({props:{display:"source",url:"https://github.com/DoctorBracewell/travelers"}}),h=new K({props:{display:"svelte",url:"https://svelte.dev/"}}),p=new K({props:{display:"tailwindcss",url:"https://tailwindcss.com/"}}),e=new K({props:{display:"howler",url:"https://howlerjs.com/"}}),m=new K({props:{display:a[0].artist.name,url:a[0].artist.link}}),N=new K({props:{display:"DrBracewell",url:"https://brace.dev"}}),{c(){r=T("footer"),t=T("div"),o=T("div"),i=T("p"),L(l.$$.fragment),c=q(`\r
        \u2502\r
        `),L(h.$$.fragment),f=q(` +\r
        `),L(p.$$.fragment),v=q(` +\r
        `),L(e.$$.fragment),n=V(),s=T("div"),u=T("p"),_=q("Music by "),L(m.$$.fragment),d=V(),g=T("div"),y=T("p"),S=q("\xA9 "),A=q(E),D=V(),L(N.$$.fragment),b(i,"class","mt-auto text-sm md:text-base"),b(o,"class","flex z-50 mx-auto mt-3 md:m-0 md:p-5"),b(u,"class","mt-auto mx-auto text-base md:text-2xl"),b(s,"class","flex w-full mx-auto mt-3 md:m-0 md:absolute md:bottom-0 md:pb-5"),b(y,"class","mt-auto text-sm md:text-base"),b(g,"class","flex z-50 mx-auto mt-3 pb-5 md:m-0 md:p-5"),b(t,"class","flex flex-col md:flex-row w-full justify-between"),b(r,"class","absolute -bottom-24 md:bottom-0 w-full")},m(P,R){F(P,r,R),w(r,t),w(t,o),w(o,i),M(l,i,null),w(i,c),M(h,i,null),w(i,f),M(p,i,null),w(i,v),M(e,i,null),w(t,n),w(t,s),w(s,u),w(u,_),M(m,u,null),w(t,d),w(t,g),w(g,y),w(y,S),w(y,A),w(y,D),M(N,y,null),k=!0},p(P,[R]){const te={};R&1&&(te.display=P[0].artist.name),R&1&&(te.url=P[0].artist.link),m.$set(te)},i(P){k||(x(l.$$.fragment,P),x(h.$$.fragment,P),x(p.$$.fragment,P),x(e.$$.fragment,P),x(m.$$.fragment,P),x(N.$$.fragment,P),k=!0)},o(P){I(l.$$.fragment,P),I(h.$$.fragment,P),I(p.$$.fragment,P),I(e.$$.fragment,P),I(m.$$.fragment,P),I(N.$$.fragment,P),k=!1},d(P){P&&H(r),O(l),O(h),O(p),O(e),O(m),O(N)}}}function Nt(a,r,t){let o;return ce(a,Ae,i=>t(0,o=i)),[o]}class qt extends C{constructor(r){super(),G(this,r,Nt,Ct,B,{})}}function Rt(a){return{c:$,m:$,p:$,i:$,o:$,d:$}}function Xt(a){let r,t,o,i;const l=[Wt,jt],c=[];function h(f,p){return f[1]?0:1}return r=h(a),t=c[r]=l[r](a),{c(){t.c(),o=We()},m(f,p){c[r].m(f,p),F(f,o,p),i=!0},p(f,p){let v=r;r=h(f),r===v?c[r].p(f,p):(ye(),I(c[v],1,1,()=>{c[v]=null}),be(),t=c[r],t?t.p(f,p):(t=c[r]=l[r](f),t.c()),x(t,1),t.m(o.parentNode,o))},i(f){i||(x(t),i=!0)},o(f){I(t),i=!1},d(f){c[r].d(f),f&&H(o)}}}function jt(a){let r,t;return r=new it({}),{c(){L(r.$$.fragment)},m(o,i){M(r,o,i),t=!0},p:$,i(o){t||(x(r.$$.fragment,o),t=!0)},o(o){I(r.$$.fragment,o),t=!1},d(o){O(r,o)}}}function Wt(a){let r,t;return r=new Ht({props:{tracks:a[2]}}),{c(){L(r.$$.fragment)},m(o,i){M(r,o,i),t=!0},p(o,i){const l={};i&1&&(l.tracks=o[2]),r.$set(l)},i(o){t||(x(r.$$.fragment,o),t=!0)},o(o){I(r.$$.fragment,o),t=!1},d(o){O(r,o)}}}function Yt(a){let r,t;return r=new Dt({}),{c(){L(r.$$.fragment)},m(o,i){M(r,o,i),t=!0},p:$,i(o){t||(x(r.$$.fragment,o),t=!0)},o(o){I(r.$$.fragment,o),t=!1},d(o){O(r,o)}}}function Qt(a){let r,t,o,i,l,c,h,f={ctx:a,current:null,token:null,hasCatch:!1,pending:Yt,then:Xt,catch:Rt,value:2,blocks:[,,,]};return xe(i=Le(a[0]),f),c=new qt({}),{c(){r=T("main"),t=T("div"),t.innerHTML='<div class="m-2 md:m-6"><a class="w-5" href="https://www.buymeacoffee.com/drbracewell" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" class="w-28 md:h-[60px] md:w-[217px]"/></a></div>',o=V(),f.block.c(),l=V(),L(c.$$.fragment),b(t,"class","z-[10000] fixed flex"),b(r,"class","bg-black h-fit min-h-screen relative")},m(p,v){F(p,r,v),w(r,t),w(r,o),f.block.m(r,f.anchor=null),f.mount=()=>r,f.anchor=l,w(r,l),M(c,r,null),h=!0},p(p,[v]){a=p,f.ctx=a,v&1&&i!==(i=Le(a[0]))&&xe(i,f)||Ue(f,a,v)},i(p){h||(x(f.block),x(c.$$.fragment,p),h=!0)},o(p){for(let v=0;v<3;v+=1){const e=f.blocks[v];I(e)}I(c.$$.fragment,p),h=!1},d(p){p&&H(r),f.block.d(),f.token=null,f=null,O(c)}}}function Zt(a,r,t){let o,i;return ce(a,Ae,l=>t(0,o=l)),ce(a,De,l=>t(1,i=l)),[o,i]}class Kt extends C{constructor(r){super(),G(this,r,Zt,Qt,B,{})}}new Kt({target:document.getElementById("app")});
